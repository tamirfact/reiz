(function(){const b=document.createElement("link").relList;if(b&&b.supports&&b.supports("modulepreload"))return;for(const T of document.querySelectorAll('link[rel="modulepreload"]'))P(T);new MutationObserver(T=>{for(const I of T)if(I.type==="childList")for(const B of I.addedNodes)B.tagName==="LINK"&&B.rel==="modulepreload"&&P(B)}).observe(document,{childList:!0,subtree:!0});function k(T){const I={};return T.integrity&&(I.integrity=T.integrity),T.referrerPolicy&&(I.referrerPolicy=T.referrerPolicy),T.crossOrigin==="use-credentials"?I.credentials="include":T.crossOrigin==="anonymous"?I.credentials="omit":I.credentials="same-origin",I}function P(T){if(T.ep)return;T.ep=!0;const I=k(T);fetch(T.href,I)}})();document.addEventListener("DOMContentLoaded",function(){O()&&document.querySelectorAll(".hide-on-mobile").forEach(o=>{o.style.display="none"});const w=document.querySelector(".boards-container"),b=document.querySelector(".controls"),k=800;let P=0,T=null;function I(){return"session_"+Date.now()+"_"+Math.random().toString(36).substr(2,9)}M();function B(){T=I(),console.log("Session initialized:",T)}const R=.1,Y=.3;document.body.classList.contains("narrow-mode")?P=1:document.body.classList.contains("wide-mode")&&(P=2);const x=[{letter:"A",shape:"stripes",colors:{primary:"#FFE100",secondary:"#5E35B1",off:"#666666"}},{letter:"B",shape:"split-circle",colors:{primary:"#F4511E",secondary:"#7CB342",off:"#666666"}},{letter:"C",shape:"capsule",colors:{primary:"#FF6F00",secondary:"#3949AB",off:"#666666"}},{letter:"D",shape:"square",colors:{primary:"#E53935",secondary:"#0097A7",off:"#666666"}},{letter:"E",shape:"frame-dot",colors:{primary:"#4CAF50",secondary:"#D81B60",off:"#666666"}},{letter:"F",shape:"diamonds",colors:{primary:"#1565C0",secondary:"#00897B",off:"#666666"}}];X(x);let S=[],N=null;function E(o,r,l){const e=o.getContext("2d"),t=o.width,a=o.height;e.clearRect(0,0,t,a),e.fillStyle=l,e.fillRect(0,0,t,a),e.globalCompositeOperation="destination-out";const u=P===1,m=P===2,d=u?t*.9:m?t*.25:t*.5,c=t*.025,s=u?t*.05:m?t*.375:t*.25,n=t*.025,i=m?6:u?12:c/2;switch(r){case"stripes":{e.beginPath(),e.moveTo(s+i,n),e.lineTo(s+d-i,n),e.arcTo(s+d,n,s+d,n+i,i),e.lineTo(s+d,n+c-i),e.arcTo(s+d,n+c,s+d-i,n+c,i),e.lineTo(s+i,n+c),e.arcTo(s,n+c,s,n+c-i,i),e.lineTo(s,n+i),e.arcTo(s,n,s+i,n,i),e.closePath(),e.fill();const p=a*.09,g=a*.09,h=m?t*.9:t*.8,f=u?a*.635:a*.725;let y=u?3:4;for(let v=0;v<y;v++)e.fillRect(m?t*.05:t*.1,f-v*(p+g),h,p);break}case"split-circle":{if(e.beginPath(),e.moveTo(s+i,n),e.lineTo(s+d-i,n),e.arcTo(s+d,n,s+d,n+i,i),e.lineTo(s+d,n+c-i),e.arcTo(s+d,n+c,s+d-i,n+c,i),e.lineTo(s+i,n+c),e.arcTo(s,n+c,s,n+c-i,i),e.lineTo(s,n+i),e.arcTo(s,n,s+i,n,i),e.closePath(),e.fill(),u){const p=t*.5,g=a*.12,h=t*.24;e.beginPath(),e.ellipse(p,t*.76,g,h,Math.PI/2,0,Math.PI*2,!1),e.fill(),e.beginPath(),e.ellipse(p,t*.24,g,h,Math.PI/2,0,Math.PI*2,!1),e.fill()}else if(m){const p=t*.5,g=a*.5,h=a*.4,f=t*.2;e.beginPath(),e.ellipse(p,g,h,f,Math.PI/2,0,Math.PI*2,!1),e.fill(),e.globalCompositeOperation="source-over",e.globalCompositeOperation="destination-out",e.beginPath(),e.ellipse(p*1.5,g,h/2,f*2,0,-Math.PI/2,Math.PI/2,!1),e.fill(),e.beginPath(),e.ellipse(p*.5,g,h/2,f*2,0,Math.PI/2,Math.PI*3/2,!1),e.fill()}else{const p=t/2,g=a/2,h=t*.4,f=t*.19,y=f/2;e.beginPath(),e.arc(p,g,h,0,Math.PI*2),e.fill(),e.globalCompositeOperation="source-over",e.fillRect(p-y,g-h,f,h*2),e.globalCompositeOperation="destination-out"}break}case"capsule":{if(e.beginPath(),e.moveTo(s+i,n),e.lineTo(s+d-i,n),e.arcTo(s+d,n,s+d,n+i,i),e.lineTo(s+d,n+c-i),e.arcTo(s+d,n+c,s+d-i,n+c,i),e.lineTo(s+i,n+c),e.arcTo(s,n+c,s,n+c-i,i),e.lineTo(s,n+i),e.arcTo(s,n,s+i,n,i),e.closePath(),e.fill(),u){const p=t*.24;e.beginPath(),e.ellipse(t/2,a*.76,p,p/2,0,0,Math.PI*2),e.ellipse(t/2,a*.24,p,p/2,0,0,Math.PI*2),e.rect(t*.5-p,a*.25,p*2,a*.5),e.fill()}else if(m){const p=t*.9,g=t*.27,h=(t-p)/2,f=(a-g)/2,y=g/2,v=y/2;e.beginPath(),e.moveTo(h+v,f),e.lineTo(h+p-v,f),e.ellipse(h+p-v,f+y,v,y,0,-Math.PI/2,Math.PI/2,!1),e.lineTo(h+v,f+g),e.ellipse(h+v,f+y,v,y,0,Math.PI/2,-Math.PI/2,!1),e.closePath(),e.fill()}else{const p=t*.87,g=t*.27,h=(t-p)/2,f=(a-g)/2,y=g/2;e.beginPath(),e.moveTo(h+y,f),e.lineTo(h+p-y,f),e.arc(h+p-y,f+y,y,-Math.PI/2,Math.PI/2,!1),e.lineTo(h+y,f+g),e.arc(h+y,f+y,y,Math.PI/2,-Math.PI/2,!1),e.closePath(),e.fill()}break}case"square":{e.beginPath(),e.moveTo(s+i,n),e.lineTo(s+d-i,n),e.arcTo(s+d,n,s+d,n+i,i),e.lineTo(s+d,n+c-i),e.arcTo(s+d,n+c,s+d-i,n+c,i),e.lineTo(s+i,n+c),e.arcTo(s,n+c,s,n+c-i,i),e.lineTo(s,n+i),e.arcTo(s,n,s+i,n,i),e.closePath(),e.fill();const p=u?t*.8:m?t*.7:t*.57,g=u?t*.45:m?t*.63:t*.57,h=(t-p)/2,f=(a-g)/2;e.fillRect(h,f,p,g);break}case"frame-dot":{e.beginPath(),e.moveTo(s+i,n),e.lineTo(s+d-i,n),e.arcTo(s+d,n,s+d,n+i,i),e.lineTo(s+d,n+c-i),e.arcTo(s+d,n+c,s+d-i,n+c,i),e.lineTo(s+i,n+c),e.arcTo(s,n+c,s,n+c-i,i),e.lineTo(s,n+i),e.arcTo(s,n,s+i,n,i),e.closePath(),e.fill();const p=t*.1,g=t*.1,h=u?t*.4:m?t*.8:t*.56,f=a*.078,y=u?f*2:m?f/2:f,v=t*.6,L=t*.187;e.fillRect((t-h)/2,g,h,f),e.fillRect((t-h)/2,a-g-f,h,f),e.fillRect(m?p/2:p,(a-v)/2,y,v),e.fillRect(m?t-p/2-y:t-p-y,(a-v)/2,y,v),u||(e.beginPath(),e.ellipse(t/2,a/2,u?L:m?L/4:L/2,L/2,0,0,Math.PI*2),e.fill());break}case"diamonds":{e.beginPath(),e.moveTo(s+i,n),e.lineTo(s+d-i,n),e.arcTo(s+d,n,s+d,n+i,i),e.lineTo(s+d,n+c-i),e.arcTo(s+d,n+c,s+d-i,n+c,i),e.lineTo(s+i,n+c),e.arcTo(s,n+c,s,n+c-i,i),e.lineTo(s,n+i),e.arcTo(s,n,s+i,n,i),e.closePath(),e.fill();const p=u?t*.04:m?t*.3:t*.06,g=u?a*.275:m?a*.2:a*.21,h=u?t*.49:m?t*.1:t*.19,f=t/2,y=a/2,v=u?t*.05:m?t*.02:t*.03;if(u)e.beginPath(),e.moveTo(f,g),e.lineTo(f-h/2,y-v),e.lineTo(f+h/2,y-v),e.closePath(),e.fill(),e.beginPath(),e.moveTo(f,a-g),e.lineTo(f-h/2,y+v),e.lineTo(f+h/2,y+v),e.closePath(),e.fill();else if(m){e.beginPath(),e.moveTo(p,y),e.lineTo(f-h/2,g),e.lineTo(f-h/2,a-g),e.closePath(),e.fill(),e.beginPath(),e.moveTo(t-p,y),e.lineTo(f+h/2,g),e.lineTo(f+h/2,a-g),e.closePath(),e.fill();const L=t*.15;e.beginPath(),e.moveTo(t-p+L,y),e.lineTo(f+h/2+L,g),e.lineTo(f+h/2+L,a-g),e.closePath(),e.fill(),e.beginPath(),e.moveTo(p-L,y),e.lineTo(f-h/2-L,g),e.lineTo(f-h/2-L,a-g),e.closePath(),e.fill()}else e.beginPath(),e.moveTo(p,y),e.lineTo(f-h/2,g),e.lineTo(f-h/2,a-g),e.closePath(),e.fill(),e.beginPath(),e.moveTo(t-p,y),e.lineTo(f+h/2,g),e.lineTo(f+h/2,a-g),e.closePath(),e.fill();break}}e.globalCompositeOperation="source-over"}function H(o,r,l,e,t,a){const u=document.createElement("canvas");u.width=o.width,u.height=o.height,E(u,r,l);const m=o.getContext("2d"),d=performance.now(),c=100;function s(n){const i=n-d,p=Math.min(i/c,1);m.clearRect(0,0,o.width,o.height),m.drawImage(u,0,0),p<1?requestAnimationFrame(s):m.drawImage(u,0,0)}requestAnimationFrame(s)}function q(){w.innerHTML="",b.innerHTML="",S=[],X(x),x.forEach((o,r)=>{const l=document.createElement("div");l.className="board-container";const e=x.length-1-r;l.style.zIndex=e,l.dataset.index=r;const t=document.createElement("canvas");t.className="board-canvas",t.width=k,t.height=k,l.appendChild(t);const a=Math.floor(Math.random()*2);let u;a===0?u=o.colors.primary:a===1?u=o.colors.secondary:(u=o.colors.off,l.style.display="none"),E(t,o.shape,u),l.addEventListener("mousedown",function(s){this.style.display!=="none"&&(s.clientX,s.clientY,this.style.transform,this.classList.add("dragging"))}),l.addEventListener("click",function(s){U()}),w.appendChild(l),S.push({container:l,canvas:t,config:o,letter:o.letter,colorState:a});const m=document.createElement("div");m.className="control-btn",a===2&&m.classList.add("inactive"),P===1?m.classList.add("narrow"):P===2?m.classList.add("wide"):m.classList.add("regular");const d=`shiver-${Math.floor(Math.random()*6)+1}`;m.dataset.shiverClass=d,m.dataset.boardIndex=r;const c=document.createElement("canvas");c.width=160,c.height=160,E(c,o.shape,u),m.appendChild(c),m.addEventListener("click",function(){const s=parseInt(this.dataset.boardIndex),n=S[s];n.colorState,n.colorState=(n.colorState+1)%3,this.classList.add("clicked"),setTimeout(()=>this.classList.remove("clicked"),300);let i;n.colorState===0?(i=n.config.colors.primary,n.container.style.display="block",this.classList.remove("inactive")):n.colorState===1?(i=n.config.colors.secondary,n.container.style.display="block",this.classList.remove("inactive")):(i=n.config.colors.off,this.classList.add("inactive"),n.container.style.display="none"),H(n.canvas,n.config.shape,i,n.colorState),H(c,n.config.shape,i,n.colorState),C()}),b.appendChild(m)}),N&&N.destroy(),Z()}B(),q();let A=!1,z=!1;function V(o){const r=b.getBoundingClientRect(),l=20,e=o.clientX>=r.left-l&&o.clientX<=r.right+l&&o.clientY>=r.top-l&&o.clientY<=r.bottom+l;e!==A&&(A=e,M())}function M(){b.querySelectorAll(".control-btn").forEach(r=>{if(O())r.classList.add(r.dataset.shiverClass);else if(z)!r.classList.contains("sortable-chosen")&&!r.classList.contains("sortable-drag")&&r.classList.add(r.dataset.shiverClass);else if(A)r.classList.add(r.dataset.shiverClass);else for(let l=1;l<=6;l++)r.classList.remove(`shiver-${l}`)})}document.addEventListener("mousemove",V);function Z(){N=new Sortable(b,{animation:150,ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",onStart:function(o){document.querySelectorAll(".hide-on-drag").forEach(l=>l.classList.add("hidden")),document.querySelector(".calendar").classList.add("dragging"),z=!0,b.classList.add("is-dragging"),window.originalBoardOrder=Array.from(b.children).map(l=>parseInt(l.dataset.boardIndex)),ee(),M()},onEnd:function(o){const r=o.oldIndex,l=o.newIndex;if(r!==l){G();const e=b.children[l];e.classList.add("swapped"),setTimeout(()=>e.classList.remove("swapped"),500)}oe(),z=!1,b.classList.remove("is-dragging"),document.querySelectorAll(".hide-on-drag").forEach(e=>e.classList.remove("hidden")),M(),delete window.originalBoardOrder,delete window.currentDragDirection},onChange:function(o){let r=Array.from(b.children).map(a=>parseInt(a.dataset.boardIndex));O()&&r.pop();let l=document.getElementById("currentOrderDisplay");l.textContent="Order: "+r.join(", ");const e=o.newIndex,t=o.oldIndex;window.currentDragDirection=e>t?1:-1,te(r),M()}})}function G(){Array.from(b.children).map(r=>parseInt(r.dataset.boardIndex)).forEach((r,l)=>{const e=x.length-1-l;S[r].container.style.zIndex=e}),C()}function C(){Q();const o=document.getElementById("downloadBtn");if(!o)return;const r=[...S].sort((l,e)=>parseInt(e.container.style.zIndex)-parseInt(l.container.style.zIndex)).find(l=>l.container.style.display!=="none");if(r){let l;r.colorState===0?l=r.config.colors.primary:r.colorState===1?l=r.config.colors.secondary:l="#FFE100",o.style.backgroundColor=l;const e=K(l),t=(e.r*299+e.g*587+e.b*114)/1e3;o.style.color=t>128?"#000000":"#FFFFFF"}}function K(o){o=o.replace(/^#/,"");const r=parseInt(o,16),l=r>>16&255,e=r>>8&255,t=r&255;return{r:l,g:e,b:t}}function Q(){const o=document.createElement("canvas");o.width=32,o.height=32;const r=o.getContext("2d");r.fillStyle="#212121",r.fillRect(0,0,32,32),[...S].sort((a,u)=>parseInt(a.container.style.zIndex)-parseInt(u.container.style.zIndex)).filter(a=>a.container.style.display!=="none").forEach((a,u)=>{let m;a.colorState===0?m=a.config.colors.primary:m=a.config.colors.secondary;const d=document.createElement("canvas");d.width=o.width,d.height=o.height,E(d,a.config.shape,m),r.drawImage(d,0,0)});const e=o.toDataURL("image/png");let t=document.querySelector('link[rel="icon"]');t||(t=document.createElement("link"),t.rel="icon",document.head.appendChild(t)),t.href=e}function ee(){const o=document.querySelector(".calendar"),r=x.length*30;gsap.to(o,{rotateX:20,duration:Y,ease:"power2.out"});const l=Array.from(b.children).map(t=>parseInt(t.dataset.boardIndex)),e={};l.forEach((t,a)=>{e[t]=a}),S.forEach((t,a)=>{if(t.container.style.display!=="none"){const m=e[a],d=x.length-1-m,c=d*30,s=d*-5;gsap.to(t.container,{z:c,y:s,boxShadow:`0 ${c/5}px ${c/2}px rgba(0,0,0,${.1+c/r*.3})`,duration:R,ease:"back.out(1.2)"})}})}function te(o){const r=document.querySelector(".calendar"),l=x.length*30,e=window.currentDragDirection||0;gsap.to(r,{rotateY:e*5,duration:Y,ease:"power1.out"});const t={};o.forEach((a,u)=>{t[a]=u}),S.forEach((a,u)=>{if(a.container.style.display!=="none"){const d=t[u],c=x.length-1-d,s=c*30,n=c*-5,i=e*c*3;a.container.classList.add("active-drag"),a.container.style.zIndex=c,gsap.to(a.container,{z:s,y:n,x:i,boxShadow:`0 ${s/5}px ${s/2}px rgba(0,0,0,${.1+s/l*.3})`,duration:R,ease:"power1.out"})}})}function oe(){const o=document.querySelector(".calendar");gsap.to(o,{rotateX:0,rotateY:0,duration:Y,ease:"elastic.out(1, 0.7)"}),S.forEach(r=>{r.container.classList.remove("active-drag"),gsap.to(r.container,{x:0,y:0,z:0,boxShadow:"none",duration:R,ease:"elastic.out(1, 0.7)"})})}function W(){const o=new Date,r=["SUN","MON","TUE","WED","THU","FRI","SAT"],l=["JAN","FEB","MAR","APR","MAY","JUN","JUL","AUG","SEP","OCT","NOV","DEC"];document.querySelector(".day-label").textContent=r[o.getDay()],document.querySelector(".month-label").textContent=l[o.getMonth()],document.querySelector(".date-label").textContent=o.getDate()}W(),setInterval(W,6e4);const $=document.querySelector(".calendar-footer");$&&new Sortable($,{animation:150,ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",onEnd:function(o){const r=o.item;r.style.animation="none",setTimeout(()=>{r.style.animation="date-label-settle 0.3s ease"},5)}}),b.addEventListener("touchstart",function(){A=!0,M()}),document.addEventListener("touchend",function(){z||(A=!1,M())});function X(o){for(let r=o.length-1;r>0;r--){const l=Math.floor(Math.random()*(r+1));[o[r],o[l]]=[o[l],o[r]]}return o}function O(){return window.innerWidth<=700||window.innerHeight<=550||/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}const F=document.querySelector(".refresh-btn");function U(){F.classList.add("rotating");const o=document.querySelector(".calendar");if(O())gsap.timeline().to(o,{translateY:-20,opacity:.8,duration:.3,ease:"power1.in",onStart:function(){o.classList.add("showing-back")}}).call(()=>{q(),C()}).to(o,{translateY:0,opacity:1,duration:.3,ease:"power1.out",delay:.1,onComplete:function(){o.classList.remove("showing-back"),gsap.set(o,{clearProps:"transform,filter,boxShadow"})}}).to(o,{scale:1.02,duration:.1,ease:"power2.out"}).to(o,{scale:1,duration:.1,ease:"power2.in",onComplete:function(){F.classList.remove("rotating")}});else{const r=gsap.timeline();r.to(o,{rotateY:180,scale:.9,duration:.5,ease:"power1.inOut",onUpdate:function(){const l=gsap.getProperty(o,"rotateY"),e=Math.abs(Math.sin(l*Math.PI/180))*25,t=1-Math.abs(Math.sin(l*Math.PI/180))*.2;o.style.boxShadow=`0px ${e}px ${e*1.5}px rgba(0, 0, 0, 0.2)`,o.style.filter=`brightness(${t})`,l>90&&l<270?(o.classList.add("showing-back"),w.style.visibility="hidden",w.style.opacity="0"):(o.classList.remove("showing-back"),w.style.visibility="visible",w.style.opacity="1"),l>170&&l<190&&!r.hasSwappedBoards&&(r.hasSwappedBoards=!0,setTimeout(()=>{q()},50))}}).to(o,{rotateY:360,scale:1,duration:.5,ease:"power1.inOut",onUpdate:function(){const l=gsap.getProperty(o,"rotateY"),e=Math.abs(Math.sin(l*Math.PI/180))*25,t=1-Math.abs(Math.sin(l*Math.PI/180))*.2;o.style.boxShadow=`0px ${e}px ${e*1.5}px rgba(0, 0, 0, 0.2)`,o.style.filter=`brightness(${t})`,l>90&&l<270?(o.classList.add("showing-back"),w.style.visibility="hidden",w.style.opacity="0"):(o.classList.remove("showing-back"),w.style.visibility="visible",w.style.opacity="1")},onComplete:function(){gsap.set(o,{rotateY:0}),C(),o.style.boxShadow="",o.style.filter="",o.classList.remove("showing-back"),w.style.visibility="visible",w.style.opacity="1"}}).to(o,{scale:1.03,duration:.2,ease:"power2.out"}).to(o,{scale:1,duration:.15,ease:"power2.in",onComplete:function(){F.classList.remove("rotating")}}),r.hasSwappedBoards=!1}}F.addEventListener("click",function(){U()}),document.getElementById("themeToggle").addEventListener("click",function(){document.body.classList.toggle("light-mode"),this.style.animation="none",setTimeout(()=>{this.style.animation="theme-toggle-rotate 0.5s ease"},5)}),document.getElementById("resizeToggle").querySelectorAll(".material-icons").forEach(o=>{o.addEventListener("click",function(r){r.stopPropagation();const l=parseInt(this.dataset.mode);if(window.innerWidth<600&&l===2)return;P=l,document.body.classList.remove("narrow-mode","wide-mode"),P===1?document.body.classList.add("narrow-mode"):P===2&&document.body.classList.add("wide-mode"),b.querySelectorAll(".control-btn").forEach(a=>{a.classList.remove("narrow","regular","wide"),P===1?a.classList.add("narrow"):P===2?a.classList.add("wide"):a.classList.add("regular");const u=a.querySelector("canvas");if(u){const m=parseInt(a.dataset.boardIndex),d=S[m];console.log(d);const c=_(d);E(u,d.config.shape,c)}}),S.forEach(a=>{if(a.container.style.display!=="none"){const u=_(a);E(a.canvas,a.config.shape,u)}}),C()})});function _(o){return o.colorState===0?o.config.colors.primary:o.colorState===1?o.config.colors.secondary:o.config.colors.off}q(),C();const j=document.getElementById("downloadBtn");j&&j.addEventListener("click",function(){this.style.animation="none",setTimeout(()=>{this.style.animation="button-pulse 0.5s ease"},5),window.open("https://drive.google.com/drive/folders/1ODYMgVLqkLpn-dvruK8gxDZsmjRrkY3I?usp=drive_link","_blank")});const J=document.querySelector(".header"),D=document.querySelector(".drawer"),ne=J.querySelector("h1"),se=D.querySelector(".close-drawer");ne.addEventListener("click",function(){D.classList.toggle("open")}),se.addEventListener("click",function(){D.classList.remove("open")}),document.addEventListener("click",function(o){!J.contains(o.target)&&D.classList.contains("open")&&D.classList.remove("open")});function ie(){const o=document.querySelectorAll(".board-container"),r=3e3,l=r/o.length;Array.from(o).filter(t=>window.getComputedStyle(t).display!=="none").reverse().forEach((t,a)=>{t.classList.add("animate-in"),t.style.animationDelay=`${a*l}ms`,setTimeout(()=>{t.classList.remove("animate-in"),document.querySelector(".calendar").classList.remove("initial-state")},r+a*l)})}ie()});function ae(w){const b=document.createElement("style");b.type="text/css",b.appendChild(document.createTextNode(w)),document.head.appendChild(b)}ae(`
    @keyframes button-pulse {
        0% { transform: scale(1); }
        50% { transform: scale(0.95); }
        100% { transform: scale(1); }
    }
`);
